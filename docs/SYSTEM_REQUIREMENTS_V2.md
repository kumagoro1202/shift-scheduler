# シフト作成プログラム - システム要件定義書 V2.0

## 1. プロジェクト概要

### 1.1 目的
リハビリテーション施設における職員のシフト作成を自動化し、各時間帯・各業務における職員のスキルバランスを最適化する。

### 1.2 対象施設
- **施設タイプ**: リハビリテーション施設（リハ室 + 受付）
- **職員数**: 正職員 + パート職員 合計5〜10名程度
- **業務エリア**: リハ室、受付（午前・午後）

---

## 2. 勤務パターン定義

### 2.1 勤務形態の分類

職員の勤務形態は職員マスタに紐づけて管理する。

| 勤務形態 | 説明 | 勤務時間の特徴 |
|---------|------|---------------|
| フルタイム | 正職員（通常勤務） | 8時間勤務、休憩2時間 |
| 時短勤務 | 正職員（短時間勤務） | 7時間勤務、休憩1時間 |
| パートタイム | パート職員 | 4〜5時間勤務、休憩なし |

### 2.2 正職員の勤務パターン

| パターンID | 勤務形態 | 開始時刻 | 終了時刻 | 休憩時間 | 実働時間 | 備考 |
|-----------|---------|---------|---------|---------|---------|------|
| P1 | フルタイム | 08:30 | 18:30 | 2時間 | 8時間 | 基本パターン1 |
| P2 | フルタイム | 08:45 | 18:45 | 2時間 | 8時間 | 基本パターン2 |
| P3 | フルタイム | 09:00 | 19:00 | 2時間 | 8時間 | 基本パターン3 |
| P4 | 時短勤務 | 08:45 | 16:45 | 1時間 | 7時間 | 時短勤務 |

### 2.3 パート職員の勤務パターン

| パターンID | 勤務形態 | 開始時刻 | 終了時刻 | 休憩時間 | 実働時間 | 備考 |
|-----------|---------|---------|---------|---------|---------|------|
| PT1 | パートタイム | 08:45 | 12:45 | なし | 4時間 | 午前パート |
| PT2 | パートタイム | 08:45 | 13:45 | なし | 5時間 | 午前延長パート |

### 2.4 時間帯区分

#### リハ室（終日）
- **リハ室**: 08:30〜19:00（業務時間全体）
  - 必要人数: 2名（常時）
  - スキル要件: リハ助手スキル

#### 受付（午前・午後）
- **受付（午前）**: 08:30〜13:00
  - 必要人数: 1〜2名
  - スキル要件: 受付スキル
  - 特性: 複数人でカバー可能

- **受付（午後）**: 13:00〜19:00
  - 必要人数: 1名
  - スキル要件: 受付スキル
  - 特性: 少人数運用、高スキル者が望ましい

### 2.5 休憩時間の管理とローテーション

#### 2.5.1 休憩時間の基本ルール

| 勤務形態 | 休憩時間 | 休憩の取り方 |
|---------|---------|------------|
| フルタイム（8時間） | 2時間 | 交代制で取得 |
| 時短勤務（7時間） | 1時間 | 交代制で取得 |
| パートタイム（4〜5時間） | なし | - |

#### 2.5.2 受付の休憩ローテーション制約

**重要制約**: 休憩時間中も受付窓口には必ず2名が常駐する

```
制約条件:
- 受付に配置された職員が休憩を取る場合でも、窓口には最低2名が残る
- 休憩は交代制で取得（同時に複数名が休憩に入らない）
- フルタイム勤務者の2時間休憩は、1時間×2回に分割可能
```

#### 2.5.3 休憩時間帯の例（フルタイム勤務の場合）

**パターン例: 受付に3名配置されている日**

| 職員 | 勤務パターン | 休憩時間帯1 | 休憩時間帯2 | 窓口対応時間 |
|------|------------|-----------|-----------|------------|
| 佐藤 | P2 (08:45-18:45) | 11:00-12:00 | 15:00-16:00 | 10時間（休憩除く8時間） |
| 鈴木 | P2 (08:45-18:45) | 12:00-13:00 | 16:00-17:00 | 10時間（休憩除く8時間） |
| 田中 | P2 (08:45-18:45) | 13:00-14:00 | 17:00-18:00 | 10時間（休憩除く8時間） |

**窓口常駐人数**:
- 08:45-11:00: 3名
- 11:00-12:00: 2名（佐藤が休憩）
- 12:00-13:00: 2名（鈴木が休憩）
- 13:00-14:00: 2名（田中が休憩）
- 14:00-15:00: 3名
- 15:00-16:00: 2名（佐藤が休憩）
- 16:00-17:00: 2名（鈴木が休憩）
- 17:00-18:00: 2名（田中が休憩）
- 18:00-18:45: 3名

#### 2.5.4 休憩ローテーションの自動生成

システムは以下のロジックで休憩時間を自動調整:

1. **受付窓口の常駐人数チェック**
   - 各時刻で受付に配置されている実働人数を計算
   - 休憩中の職員を除いた人数が常に2名以上であることを確認

2. **休憩時間の分散配置**
   - フルタイム勤務者の休憩は1時間×2回に分割
   - 休憩時間帯が重ならないよう自動調整
   - 昼休み時間帯（12:00-13:00）を優先的に休憩時間に設定

3. **時短勤務者の休憩**
   - 1時間休憩は11:00-14:00の間で取得
   - 他の職員と重複しないよう調整

---

## 3. 職員スキル定義

### 3.1 職員タイプ（業務可能範囲）

| タイプID | タイプ名 | リハ助手 | 受付 | 備考 |
|---------|---------|---------|------|------|
| TYPE_A | 両方可能（正職員） | ○ | ○ | リハ室・受付どちらも対応可能 |
| TYPE_B | 受付のみ（正職員） | × | ○ | 受付業務のみ |
| TYPE_C | リハ助手のみ（正職員） | ○ | × | リハ室業務のみ |
| TYPE_D | リハ助手のみ（パート） | ○ | × | リハ室業務のみ（パート） |

### 3.2 スキルスコア体系

#### 3.2.1 従来のスキルスコア（廃止）
- ~~総合スキルスコア（1〜100）~~ → 廃止

#### 3.2.2 新しいスキルスコア体系（4項目）

各職員は以下の4項目について、それぞれ1〜100のスコアを持つ:

| スコア項目 | 項目名 | 説明 | 重要度 |
|-----------|-------|------|--------|
| **スコア1** | リハ室スキル | リハビリ助手業務の習熟度 | 高 |
| **スコア2** | 受付午前スキル | 受付業務（午前）の習熟度 | 中 |
| **スコア3** | 受付午後スキル | 受付業務（午後）の習熟度 | 高 |
| **スコア4** | 総合対応力 | 緊急時・変則対応の柔軟性 | 中 |

#### 3.2.3 スコア入力例

| 職員名 | タイプ | リハ室 | 受付午前 | 受付午後 | 総合対応力 | 備考 |
|-------|--------|--------|---------|---------|-----------|------|
| 佐藤（正職員） | TYPE_A | 85 | 70 | 90 | 80 | 両方可能・受付午後が得意 |
| 鈴木（正職員） | TYPE_A | 90 | 60 | 75 | 85 | 両方可能・リハ室が得意 |
| 田中（正職員） | TYPE_B | 0 | 80 | 85 | 70 | 受付のみ |
| 高橋（正職員） | TYPE_C | 75 | 0 | 0 | 60 | リハ助手のみ |
| 伊藤（パート） | TYPE_D | 65 | 0 | 0 | 50 | リハ助手のみパート |

---

## 4. シフト生成ルール

### 4.1 基本制約

#### 必須制約（Hard Constraints）
1. **必要人数の充足**
   - リハ室: 常時2名
   - 受付午前: 1〜2名
   - 受付午後: 最低1名

2. **勤務可能時間の遵守**
   - 職員が登録した勤務可能日・時間帯のみシフトに入れる

3. **1日1シフトの制限**
   - 1人の職員は1日に1つの勤務パターンのみ

4. **スキル要件の充足**
   - リハ室には「リハ助手スキル」を持つ職員のみ
   - 受付には「受付スキル」を持つ職員のみ

#### 推奨制約（Soft Constraints）
1. **スキルバランスの均等化**
   - 各時間帯のスキルスコア合計が均等になるよう調整
   - 特に受付午後は高スキル者を優先配置

2. **勤務日数の均等化**
   - 職員間の月間勤務日数を可能な限り均等に

3. **連続勤務の制限**
   - 5日以上の連続勤務を避ける（推奨）

### 4.2 特殊ルール: リハ助手パート出勤時の対応

#### ルール概要
リハ助手のみのパート職員（TYPE_D）が出勤する日は、両方可能な正職員（TYPE_A）2名のうち1名が受付をサポートする。

#### 具体的な動作

**ケース1: パート（TYPE_D）が出勤する日**
- リハ室: 
  - 正職員（TYPE_A または TYPE_C）1名
  - パート（TYPE_D）1名
- 受付:
  - 正職員（TYPE_A）1名（リハ室から応援）
  - または 受付専任（TYPE_B）1名

**ケース2: パート（TYPE_D）が出勤しない日**
- リハ室:
  - 正職員（TYPE_A または TYPE_C）2名
- 受付:
  - 受付専任（TYPE_B）1名
  - または 正職員（TYPE_A）の一部がサポート

#### システム実装上の制約
```
IF パート（TYPE_D）が出勤する日 THEN
    リハ室 = TYPE_A または TYPE_C（1名） + TYPE_D（1名）
    受付 = TYPE_A または TYPE_B（1名以上）
    
    制約: TYPE_Aの職員2名のうち、1名は受付に配置
ELSE
    リハ室 = TYPE_A または TYPE_C（2名）
    受付 = TYPE_A または TYPE_B（1名以上）
END IF
```

---

## 5. 最適化目標

### 5.1 目的関数

各時間帯・業務エリアのスキルスコア合計が、目標値に近づくよう最適化する。

#### 目標値の設定例

| 業務エリア | 時間帯 | 目標スキルスコア合計 | 許容範囲 | 重み係数 |
|-----------|--------|-------------------|---------|---------|
| リハ室 | 終日 | 150〜180 | ±20 | 1.5 |
| 受付 | 午前 | 120〜150 | ±30 | 1.0 |
| 受付 | 午後 | 160〜190 | ±15 | 2.0 |

**重み係数の意味:**
- 受付午後: 2.0（最重要）少人数運用のため高スキル者必須
- リハ室: 1.5（重要）2名体制の安定運用
- 受付午前: 1.0（標準）複数人でカバー可能

### 5.2 最適化式（数式表現）

```
Minimize:
  Σ (weight_i × |actual_score_i - target_score_i|)
  
Where:
  i = 各時間帯・業務エリア
  weight_i = 重み係数
  actual_score_i = 実際のスキルスコア合計
  target_score_i = 目標スキルスコア
```

### 5.3 スコア計算の詳細

各時間帯・業務エリアのスコアは、以下のように計算:

- **リハ室**: 配置された職員の「リハ室スキル」の合計
- **受付午前**: 配置された職員の「受付午前スキル」の合計
- **受付午後**: 配置された職員の「受付午後スキル」の合計

---

## 6. データベース設計（変更点）

### 6.1 修正が必要なテーブル

#### employees テーブル（拡張）

```sql
CREATE TABLE employees (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    employee_type TEXT NOT NULL CHECK(employee_type IN ('TYPE_A', 'TYPE_B', 'TYPE_C', 'TYPE_D')),
    
    -- 新しいスキルスコア（4項目）
    skill_reha_room INTEGER NOT NULL CHECK(skill_reha_room >= 0 AND skill_reha_room <= 100),
    skill_reception_am INTEGER NOT NULL CHECK(skill_reception_am >= 0 AND skill_reception_am <= 100),
    skill_reception_pm INTEGER NOT NULL CHECK(skill_reception_pm >= 0 AND skill_reception_pm <= 100),
    skill_flexibility INTEGER NOT NULL CHECK(skill_flexibility >= 0 AND skill_flexibility <= 100),
    
    -- 勤務形態（職員マスタに紐づけ）
    work_type TEXT NOT NULL CHECK(work_type IN ('フルタイム', '時短勤務', 'パートタイム')),
    
    -- 勤務パターン
    work_pattern TEXT NOT NULL,  -- 'P1', 'P2', 'P3', 'P4', 'PT1', 'PT2'
    
    -- 雇用形態（従来の分類）
    employment_type TEXT NOT NULL CHECK(employment_type IN ('正職員', 'パート')),
    
    is_active BOOLEAN DEFAULT 1,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### time_slots テーブル（拡張）

```sql
CREATE TABLE time_slots (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,  -- '受付午前', '受付午後', 'リハ室'
    area_type TEXT NOT NULL CHECK(area_type IN ('受付', 'リハ室')),
    time_period TEXT CHECK(time_period IN ('午前', '午後', '終日')),
    
    start_time TEXT NOT NULL,  -- HH:MM
    end_time TEXT NOT NULL,    -- HH:MM
    
    required_employees_min INTEGER DEFAULT 1,
    required_employees_max INTEGER DEFAULT 2,
    
    target_skill_score INTEGER,  -- 目標スキルスコア合計
    skill_weight REAL DEFAULT 1.0,  -- 最適化時の重み係数
    
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### 6.2 マスタデータ（初期データ例）

#### 時間帯マスタ

```sql
INSERT INTO time_slots (name, area_type, time_period, start_time, end_time, required_employees_min, required_employees_max, target_skill_score, skill_weight) VALUES
('リハ室', 'リハ室', '終日', '08:30', '19:00', 2, 2, 165, 1.5),
('受付午前', '受付', '午前', '08:30', '13:00', 2, 3, 135, 1.0),
('受付午後', '受付', '午後', '13:00', '19:00', 2, 2, 175, 2.0);
```

**注意**: 受付の必要人数は休憩ローテーションを考慮し、常時窓口に2名が残るよう設定

#### 勤務パターンマスタ（新規テーブル）

### 6.3 休憩時間管理テーブル（新規）

```sql
CREATE TABLE break_schedules (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    shift_id INTEGER NOT NULL,
    employee_id INTEGER NOT NULL,
    date DATE NOT NULL,
    break_number INTEGER NOT NULL CHECK(break_number IN (1, 2)),  -- 1回目 or 2回目
    break_start_time TEXT NOT NULL,  -- HH:MM
    break_end_time TEXT NOT NULL,    -- HH:MM
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (shift_id) REFERENCES shifts(id),
    FOREIGN KEY (employee_id) REFERENCES employees(id)
);
```

**用途**: 各職員の休憩時間を記録し、窓口常駐人数のチェックに使用

```sql
CREATE TABLE work_patterns (
    id TEXT PRIMARY KEY,  -- 'P1', 'P2', 'P3', 'P4', 'PT1', 'PT2'
    name TEXT NOT NULL,
    work_type TEXT NOT NULL CHECK(work_type IN ('フルタイム', '時短勤務', 'パートタイム')),
    start_time TEXT NOT NULL,
    end_time TEXT NOT NULL,
    break_hours REAL NOT NULL,
    break_division INTEGER DEFAULT 1,  -- 休憩の分割回数（1 or 2）
    work_hours REAL NOT NULL,
    employment_type TEXT NOT NULL CHECK(employment_type IN ('正職員', 'パート'))
);

INSERT INTO work_patterns (id, name, work_type, start_time, end_time, break_hours, break_division, work_hours, employment_type) VALUES
('P1', '基本パターン1', 'フルタイム', '08:30', '18:30', 2.0, 2, 8.0, '正職員'),
('P2', '基本パターン2', 'フルタイム', '08:45', '18:45', 2.0, 2, 8.0, '正職員'),
('P3', '基本パターン3', 'フルタイム', '09:00', '19:00', 2.0, 2, 8.0, '正職員'),
('P4', '時短勤務', '時短勤務', '08:45', '16:45', 1.0, 1, 7.0, '正職員'),
('PT1', '午前パート', 'パートタイム', '08:45', '12:45', 0.0, 0, 4.0, 'パート'),
('PT2', '午前延長パート', 'パートタイム', '08:45', '13:45', 0.0, 0, 5.0, 'パート');
```

---

## 7. ユーザーインターフェース要件

### 7.1 職員管理画面の変更

#### 追加入力項目
1. **職員タイプ**: TYPE_A / TYPE_B / TYPE_C / TYPE_D（ドロップダウン）
2. **雇用形態**: 正職員 / パート（ラジオボタン）
3. **勤務形態**: フルタイム / 時短勤務 / パートタイム（ドロップダウン）
   - ※雇用形態に連動して自動設定も可能
4. **勤務パターン**: P1〜P4（正職員）、PT1〜PT2（パート）（ドロップダウン）
   - ※勤務形態に応じて選択肢をフィルタリング
5. **スキルスコア（4項目）**:
   - リハ室スキル（0〜100）
   - 受付午前スキル（0〜100）
   - 受付午後スキル（0〜100）
   - 総合対応力（0〜100）

#### 自動制御
- 職員タイプに応じて、入力不可のスキルスコアは自動的に0に設定
  - TYPE_B（受付のみ）→ リハ室スキル = 0
  - TYPE_C, TYPE_D（リハ助手のみ）→ 受付午前・受付午後スキル = 0
- 雇用形態と勤務形態の連動
  - 「パート」を選択 → 勤務形態は自動的に「パートタイム」
  - 「正職員」を選択 → 勤務形態は「フルタイム」または「時短勤務」を選択可能

### 7.2 時間帯設定画面の変更

#### 追加設定項目
1. **業務エリア**: リハ室 / 受付（ラジオボタン）
2. **時間区分**: 午前 / 午後 / 終日（ドロップダウン）
3. **必要人数（最小・最大）**: 数値入力
4. **目標スキルスコア**: 数値入力（0〜1000）
5. **重み係数**: 数値入力（0.1〜5.0）

### 7.3 シフト生成画面の変更

#### 追加設定項目
1. **最適化モード**:
   - スキル重視: スキルバランスを最優先
   - 日数重視: 勤務日数の均等化を優先
   - バランス: 両方を考慮（デフォルト）

2. **パート職員の優先配置**:
   - パート職員の出勤可能日を優先的にシフトに組み込む

### 7.4 シフト表示画面の変更

#### 表示情報の拡張
1. **スキルスコア内訳表示**:
   - リハ室: スコア合計 / 目標値
   - 受付午前: スコア合計 / 目標値
   - 受付午後: スコア合計 / 目標値

2. **警告表示**:
   - スキルスコアが目標値から大きく外れている日をハイライト
   - 受付午後のスコア不足を特に強調
   - 受付窓口の常駐人数が2名未満になる時間帯を警告表示

3. **職員情報の表示**:
   - 各職員の勤務パターン（P1, PT1など）を表示
   - 職員タイプ（TYPE_A など）をアイコンで表示
   - 勤務形態（フルタイム、時短、パート）をバッジで表示

4. **休憩時間の表示**:
   - 各職員の休憩時間帯を時系列で表示
   - タイムライン形式で「勤務中」「休憩中」を色分け表示
   - 受付窓口の実働人数を時間帯ごとに表示

---

## 8. 最適化エンジンの変更点

### 8.1 制約条件の追加

#### 新制約1: パート職員出勤時のリハ室・受付配置
```python
# パート（TYPE_D）が出勤する日
if any(employee.type == 'TYPE_D' and employee is assigned to date):
    # リハ室に TYPE_A または TYPE_C を1名、TYPE_D を1名配置
    # 受付に TYPE_A を1名配置（TYPE_A の2名のうち1名は受付へ）
```

#### 新制約2: スキルタイプの整合性
```python
# リハ室には リハ室スキル > 0 の職員のみ
# 受付には 受付スキル > 0 の職員のみ
```

#### 新制約3: 受付窓口の常駐人数（休憩時間考慮）
```python
# 受付に配置された職員の休憩時間を考慮
# 各時刻において、受付窓口には常に2名以上が実働状態であること

for each_hour in business_hours:
    actual_working_staff = count(staff in reception area and not in break)
    assert actual_working_staff >= 2
```

#### 新制約4: 休憩時間の分散
```python
# フルタイム勤務者の休憩は1時間×2回に分割
# 休憩時間帯が他の職員と重複しないよう調整

for employee in full_time_employees:
    break_1 = assign_break_slot(employee, slot=1, duration=60min)
    break_2 = assign_break_slot(employee, slot=2, duration=60min)
    assert no_overlap(break_1, break_2, other_employees_breaks)
```

### 8.2 目的関数の変更

#### 従来（単一スコア）
```python
Minimize: Σ |actual_total_skill - target_skill|
```

#### 新しい（4項目スキル + 重み付け）
```python
Minimize:
  1.5 × |actual_reha_room_skill - target_reha_room_skill| +
  1.0 × |actual_reception_am_skill - target_reception_am_skill| +
  2.0 × |actual_reception_pm_skill - target_reception_pm_skill|
```

---

## 9. システム運用要件

### 9.1 データ投入フロー

1. **初回セットアップ**:
   - 勤務パターンマスタの投入
   - 時間帯マスタの投入（リハ室、受付午前、受付午後）
   - 職員情報の登録
     - 名前
     - 職員タイプ（TYPE_A〜TYPE_D）
     - 雇用形態（正職員 / パート）
     - 勤務形態（フルタイム / 時短勤務 / パートタイム）
     - 勤務パターン（P1〜P4, PT1〜PT2）
     - スキルスコア4項目

2. **月次運用**:
   - 各職員の勤務可能日を登録
   - シフト自動生成の実行
     - シフト配置
     - 休憩時間の自動割り当て
   - 生成されたシフトの確認・微調整
     - 休憩時間の調整
     - 窓口常駐人数の確認
   - Excel形式でエクスポート（休憩時間含む）

### 9.2 バックアップ・リストア

- **データベースファイル**: `shift.db`を定期的にバックアップ
- **推奨頻度**: 月1回（シフト確定後）

---

## 10. 技術的制約・前提条件

### 10.1 動作環境
- **OS**: Windows 10/11
- **メモリ**: 4GB以上推奨
- **ストレージ**: 500MB以上の空き容量
- **ブラウザ**: Chrome, Edge, Firefox（Streamlit表示用）

### 10.2 パフォーマンス要件
- **シフト生成時間**: 1ヶ月分のシフトを30秒以内に生成
- **最適化精度**: 目標スコアから±10%以内の誤差

### 10.3 セキュリティ要件
- **ローカル運用**: インターネット接続不要
- **データ保護**: データベースファイルはローカルPCに保存

---

## 11. 今後の拡張予定（オプション機能）

### 11.1 高度な最適化
- [ ] 職員の連続勤務日数の制限（5日以上連続を避ける）
- [ ] 特定の曜日・時間帯の優先配置
- [ ] 複数月にわたる最適化
- [ ] 休憩時間の最適化（職員の希望時間帯を考慮）

### 11.2 レポート機能
- [ ] 月次の勤務実績レポート
- [ ] スキルスコアの推移グラフ
- [ ] 職員別の勤務日数・時間数集計
- [ ] 休憩取得状況のレポート（労務管理用）

### 11.3 ユーザビリティ向上
- [ ] ドラッグ&ドロップでシフト編集
- [ ] 休憩時間の手動調整機能（ドラッグで時間変更）
- [ ] スマートフォン対応
- [ ] ダークモード

---

## 12. 用語集

| 用語 | 説明 |
|------|------|
| リハ室 | リハビリテーション室（リハビリ助手が業務を行うエリア） |
| 受付 | 施設の受付業務を行うエリア |
| TYPE_A | リハ室・受付両方の業務が可能な正職員 |
| TYPE_B | 受付業務のみ可能な正職員 |
| TYPE_C | リハ室業務のみ可能な正職員 |
| TYPE_D | リハ室業務のみ可能なパート職員 |
| フルタイム | 8時間勤務、休憩2時間の正職員 |
| 時短勤務 | 7時間勤務、休憩1時間の正職員 |
| パートタイム | 4〜5時間勤務、休憩なしのパート職員 |
| スキルスコア | 職員の業務習熟度を1〜100で数値化したもの（4項目） |
| 勤務パターン | 開始時刻・終了時刻・休憩時間の組み合わせ（P1〜P4, PT1〜PT2） |
| 休憩ローテーション | 複数職員の休憩時間を交代制で調整する仕組み |
| 窓口常駐人数 | 休憩中の職員を除いた、受付窓口で実際に業務を行っている人数 |
| 最適化 | 各時間帯のスキルバランスを均等にする計算処理 |
| 制約条件 | シフト生成時に守らなければならないルール |

---

## 13. 変更履歴

| バージョン | 日付 | 変更内容 | 担当者 |
|-----------|------|---------|--------|
| 1.0 | 2025-11-26 | 初版作成（単一スキルスコア版） | - |
| 2.0 | 2025-11-27 | 4項目スキルスコア対応、職員タイプ追加、パート対応強化 | - |

---

**ドキュメント終了**
